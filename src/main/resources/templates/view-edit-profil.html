<!DOCTYPE html>
<html lang="fr"
      xmlns:th="http://www.thymeleaf.org"
      th:replace="~{
                    layouts/layout :: layout-enchere(
					titrePage='Profil - Eni Encheres',
					contenuPage=~{:: main},
					ressourcesSupp=~{})
					}">
<main class="bg-neutral-300 rounded-b-lg">
    <section class="pt-25 grid grid-cols-12 min-h-[93vh] flex flex-col pb-5">
        <div class="lg:col-start-4 lg:col-end-6 col-span-12 p-5 bg-neutral-200 rounded-lg ms-5 me-3">
            <div class="w-full grid grid-cols-12 gap-5 items-center">
                <div class="col-span-5">
                    <img src="https://placehold.co/200/929292/FFF" alt="" class="w-full rounded-full">
                </div>
                <div class="col-span-7">
                    <div class="relative font-bold text-2xl">
                        <h3 class="sandler-font text-neutral-800"
                            th:text="${userSession.pseudo}">
                        </h3>
                        <span class="absolute top-0 start-0 sandler-font text-lime-200 translate-1"
                              th:text="${userSession.pseudo}"></span>
                    </div>
                    <div class="text-sm text-neutral-800 font-medium">
                        <p class="underline" th:text="${userSession.email}"></p>
                        <p class="opacity-70" th:text="${userSession.prenom + ' ' + userSession.nom}"></p>
                    </div>
                </div>
                <div class="col-span-12 text-sm">
                    <a th:href="@{/profil(user=${userSession.noUtilisateur})}">
                        <button th:text="#{profil.edit.cancel}"
                                class="bg-neutral-800 text-neutral-200 w-full py-2 pb-1.5 font-semibold rounded-lg">
                        </button>
                    </a>
                </div>
            </div>
        </div>
        <div class="lg:col-start-6 lg:col-end-8 col-span-12 text-sm bg-lime-200 rounded-lg me-3">
            <div class="text-sm rounded-t-lg p-5">
                <h3 th:text="#{profil.edit.section.info}" class="text-neutral-800 sandler-font font-black text-2xl mb-5">Information</h3>
                <form action="/profil/editInfo"
                      method="POST"
                      th:object="${utilisateurDTO}">
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-pseudo}"
                                   th:classappend="${#fields.hasErrors('pseudo') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="pseudo"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{pseudo}"
                               th:classappend="${#fields.hasErrors('pseudo') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.pseudo}"
                               type="text"
                               name="pseudo"
                               id="pseudo"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('pseudo')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-nom}"
                                   th:classappend="${#fields.hasErrors('nom') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="nom"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{nom}"
                               th:classappend="${#fields.hasErrors('nom') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.nom}"
                               type="text"
                               name="nom"
                               id="nom"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('nom')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-prenom}"
                                   th:classappend="${#fields.hasErrors('prenom') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="prenom"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{prenom}"
                               th:classappend="${#fields.hasErrors('prenom') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.prenom}"
                               type="text"
                               name="prenom"
                               id="prenom"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('prenom')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-email}"
                                   th:classappend="${#fields.hasErrors('email') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="email"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{email}"
                               th:classappend="${#fields.hasErrors('email') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.email}"
                               type="email"
                               name="email"
                               id="email"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('email')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-telephone}"
                                   th:classappend="${#fields.hasErrors('telephone') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="telephone"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{telephone}"
                               th:classappend="${#fields.hasErrors('telephone') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.telephone}"
                               type="tel"
                               name="telephone"
                               id="telephone"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('telephone')}"></div>
                    </div>
                    <button type="submit"
                            th:text="#{profil.edit.btn}" class="bg-neutral-800 text-neutral-300 w-full py-2 pb-1.5 font-semibold rounded-lg">Modifier</button>
                </form>
            </div>
            <div class="text-sm bg-lime-200 p-5">
                <h3  th:text="#{profil.edit.section.adresse}" class="text-neutral-800 sandler-font font-black text-2xl mb-5">Adresse</h3>
                <form action="/profil/editAdresse"
                      method="POST"
                      th:object="${utilisateurDTO}">
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-rue}"
                                   th:classappend="${#fields.hasErrors('rue') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="rue"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{rue}"
                               th:classappend="${#fields.hasErrors('rue') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.rue}"
                               type="text"
                               name="rue"
                               id="rue"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('rue')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-cp}"
                                   th:classappend="${#fields.hasErrors('codePostal') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="codePostal"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{codePostal}"
                               th:classappend="${#fields.hasErrors('codePostal') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.codePostal}"
                               type="number"
                               name="codePostal"
                               id="codePostal"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('codePostal')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-ville}"
                                   th:classappend="${#fields.hasErrors('ville') ? 'text-red-800' : 'text-neutral-800'}"
                                   for="ville"
                                   class="font-medium text-sm bg-lime-200 px-2"></label>
                        </div>
                        <input th:field="*{ville}"
                               th:classappend="${#fields.hasErrors('ville') ? 'border-red-800' : 'border-neutral-800'}"
                               th:value="${utilisateurDTO.ville}"
                               type="text"
                               name="ville"
                               id="ville"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-800" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('ville')}"></div>
                    </div>
                    <button th:text="#{profil.edit.btn}" type="submit" class="bg-neutral-800 text-neutral-300 w-full py-2 pb-1.5 font-semibold rounded-lg">Modifier</button>
                </form>
            </div>

        </div>
        <div class="lg:col-start-8 lg:col-end-10 col-span-12 text-sm bg-neutral-800 me-5 rounded-lg">
            <div class="text-sm  rounded-b-lg p-5">
                <h3 th:text="#{profil.edit.section.securite}" class="text-neutral-300 sandler-font font-black text-2xl mb-5">Sécurité</h3>
                <form action="/profil/editPwd"
                      method="POST"
                      th:object="${pwdDTO}">
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">

                            <label th:text="#{signin.form.label-mdp}"
                                   th:classappend="${#fields.hasErrors('motDePasseActuel') ? 'text-red-300' : 'text-neutral-400'}"
                                   for="motDePasseActuel"
                                   class="dark font-medium text-sm bg-neutral-800 px-2"></label>
                        </div>
                        <input th:classappend="${#fields.hasErrors('motDePasseActuel') ? 'border-red-800' : 'border-neutral-400'}"
                               th:field="*{motDePasseActuel}"
                               type="password"
                               name="motDePasseActuel"
                               id="motDePasseActuel"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-300" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('motDePasseActuel')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-mdp}"
                                   th:classappend="${#fields.hasErrors('nouveauMotDePasse') || #fields.hasErrors('motDePasseConfirm')  ? 'text-red-800' : 'text-neutral-400'}"
                                   for="motDePasse"
                                   class="dark font-medium text-sm bg-neutral-800 px-2"></label>
                        </div>
                        <input th:field="*{nouveauMotDePasse}"
                               th:classappend="${#fields.hasErrors('nouveauMotDePasse') || #fields.hasErrors('motDePasseConfirm')  ? 'border-red-800' : 'border-neutral-400'}"
                               type="password"
                               name="motDePasse"
                               id="motDePasse"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-300" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('nouveauMotDePasse')}"></div>
                    </div>
                    <div class="w-full relative mb-4">
                        <div class="absolute top-0 -translate-y-3 ps-5">
                            <label th:text="#{signin.form.label-mdpConfirm}"
                                   th:classappend="${#fields.hasErrors('motDePasseConfirm') || #fields.hasErrors('nouveauMotDePasse') ? 'text-red-800' : 'text-neutral-400'}"
                                   for="motDePasseConfirm"
                                   class="dark font-medium text-sm bg-neutral-800 px-2"></label>
                        </div>
                        <input th:field="*{motDePasseConfirm}"
                               th:classappend="${#fields.hasErrors('motDePasseConfirm') || #fields.hasErrors('nouveauMotDePasse')  ? 'border-red-800' : 'border-neutral-400'}"
                               type="password"
                               name="motDePasseConfirm"
                               id="motDePasseConfirm"
                               class="border rounded-lg w-full px-2 py-1 pt-1.5 text-neutral-300" required>
                        <div data-th-replace="~{fragments/error/fragment-error :: frag-error('motDePasseConfirm')}"></div>
                    </div>
                    <button th:text="#{profil.edit.btn}"  type="submit" class="bg-lime-200 text-neutral-800 w-full py-2 pb-1.5 font-semibold rounded-lg">Modifier</button>
                </form>
            </div>
        </div>
    </section>
</main>
</html>